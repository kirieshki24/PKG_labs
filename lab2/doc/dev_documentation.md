# Документация разработчика

## Наименовании программы

**Image Data Extractor** — это приложение с графическим интерфейсом для извлечения метаданных изображений из выбранных файлов или директорий. Приложение написано на **Python** с использованием библиотеки `customtkinter` и позволяет отображать информацию о разрешении, размере, цветовой глубине и методе сжатия изображений.

---

## **Назначение программы**

Приложение позволяет:
- Извлекать метаданные изображений из файлов и директорий.
- Отображать информацию о размерах, разрешении, цветовой глубине и методе сжатия изображений.
- Обрабатывать изображения популярных форматов, таких как PNG, JPG, GIF, TIFF и BMP.

---

## **Функциональные возможности**

1. **Обработка изображений**:
   - Чтение изображений из указанной директории или отдельного файла.
   - Поддержка популярных форматов: `png`, `jpg`, `jpeg`, `gif`, `tif`, `bmp`, `pcx`.

2. **Извлечение и отображение метаданных**:
   - Размер изображения в пикселях (ширина x высота).
   - Разрешение DPI (если доступно).
   - Цветовая глубина (1-bit, 8-bit, 3x8-bit и т.д.).
   - Метод сжатия изображения.

3. **Интерактивный интерфейс**:
   - Возможность выбора директории или отдельного файла через диалоговое окно.
   - Отображение метаданных изображений в виде таблицы.

---

## **Обзор функционала**

### **Главные компоненты интерфейса**:
1. **Таблица данных**:
   - Отображает список изображений и их метаданные: 
     - ID
     - Название файла
     - Размер (ширина x высота)
     - Разрешение DPI
     - Цветовая глубина
     - Метод сжатия

2. **Кнопки управления**:
   - **Выбрать директорию**: открывает диалоговое окно для выбора папки с изображениями.
   - **Выбрать файл**: открывает диалоговое окно для выбора одного изображения.

3. **Потоковая обработка**:
   - Чтение изображений из директории выполняется в отдельном потоке для предотвращения блокировки интерфейса.

---

### **Методы и функции**

1. **`add_data(files)`**:
   - Добавляет метаданные изображений в таблицу на основе списка файлов.
   - Вычисляет разрешение, цветовую глубину и метод сжатия для каждого изображения.

2. **`calculate_compression_ratio(file_size, resolution)`**:
   - Вычисляет степень сжатия изображения на основе размера файла и разрешения.

3. **`ask_directory_button()`**:
   - Открывает диалоговое окно для выбора директории и собирает все изображения, соответствующие допустимым форматам.

4. **`ask_file_button()`**:
   - Открывает диалоговое окно для выбора одного изображения и добавляет его данные в таблицу.

5. **`start_directory_thread()`**:
   - Запускает метод `ask_directory_button` в отдельном потоке.

---

## **Установка и запуск**

### **Системные требования**
- Python версии **3.11** или выше.
- Установленные библиотеки:
  - `customtkinter`
  - `Pillow`

---

### **Шаги для запуска приложения**

1. **Скачайте и распакуйте архив** с исходным кодом программы.

2. **Установите Python**:
   - Загрузите Python версии 3.11 с [официального сайта](https://www.python.org).

3. **Настройте виртуальное окружение**:
   - Откройте командную строку (Windows) и выполните следующие команды:

```bash
chdir ...\Image-Data-Extractor  # Укажите путь к директории с файлом main.py
python -m venv .venv
.venv\Scripts\activate
pip install -r requirements.txt
python main.py
```

---

## **Структура кода**

### **Основные модули**
1. **`customtkinter`**:
   - Используется для создания современного графического интерфейса.

2. **`tkinter.ttk` и `filedialog`**:
   - Предоставляют виджеты и диалоговые окна для взаимодействия с пользователем.

3. **`Pillow` (PIL)**:
   - Позволяет работать с изображениями и получать их метаданные.

4. **`os`** и **`threading`**:
   - Управляют файловыми операциями и запускают задачи в отдельных потоках.

---

### **Форматы изображений**
Программа поддерживает следующие форматы:
- **JPEG / JPG**
- **PNG**
- **GIF**
- **TIFF**
- **BMP**
- **PCX**

---

## **Расширение функционала**

Приложение имеет модульную структуру, что позволяет легко добавлять новые функции. Возможные улучшения:
- Поддержка дополнительных форматов изображений (например, WebP или SVG).
- Генерация отчетов на основе полученных данных.
- Добавление сортировки и поиска по столбцам таблицы.
- Интеграция с инструментами визуализации изображений.

---

## **Пример интерфейса**

При запуске программы пользователь увидит окно с таблицей и двумя кнопками:
1. **Выбрать директорию**: для добавления нескольких изображений из папки и всех её вложенных папок.
2. **Выбрать файл**: для добавления одного изображения.

Каждая строка таблицы отображает информацию о конкретном изображении.

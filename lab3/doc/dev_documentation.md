# Документация разработчика

## Наименование программы

**Image Processing App** — приложение для обработки изображений с функциями фильтрации, коррекции контрастности и визуализации гистограммы. Реализовано с использованием **customtkinter** и **OpenCV**.

---

## Назначение программы

Программа предназначена для:
- Загрузки и отображения изображений.
- Применения фильтров сглаживания: **средний фильтр** и **Гауссово размытие**.
- Линейной и гистограммной коррекции контрастности.
- Визуализации гистограммы изображения.
- Сохранения обработанных изображений.

---

## Функциональные возможности

1. **Загрузка и сохранение изображений**:
   - Поддержка популярных форматов: PNG, JPG, BMP и других.
   - Возможность сохранения обработанного изображения в форматах PNG и JPEG.

2. **Фильтры сглаживания**:
   - **Средний фильтр** (Average Filter): устраняет шумы за счет усреднения пикселей в заданном окне.
   - **Гауссово размытие** (Gaussian Filter): сглаживает изображение с учетом нормального распределения.

3. **Обработка гистограммы**:
   - **Линейное растяжение контраста**: изменение яркости с указанием минимального и максимального порога.
   - **Гистограммное выравнивание**: улучшение распределения яркости изображения.

4. **Интерактивный интерфейс**:
   - Ползунки для изменения размера ядра фильтра и порогов контраста.
   - Автоматическое обновление отображения изображения и его гистограммы.

5. **Сброс изменений**:
   - Возвращение изображения в исходное состояние.

---

## Структура кода

### Используемые библиотеки
1. **`customtkinter`** — современный графический интерфейс для Python.
2. **`OpenCV`** — библиотека для обработки изображений.
3. **`Pillow`** — для отображения изображений.
4. **`matplotlib`** — для построения и отображения гистограмм.

### Основные компоненты

1. **Графический интерфейс**:
   - Левая панель с кнопками и ползунками для управления фильтрами и контрастностью.
   - Правая панель для отображения изображения и гистограммы.

2. **Основные функции**:
   - `load_image`: загрузка изображения с диска.
   - `apply_average_filter`: применение среднего фильтра.
   - `apply_gaussian_filter`: применение Гауссова размытия.
   - `apply_linear_contrast`: линейное растяжение контраста.
   - `apply_histogram_equalization`: выравнивание гистограммы.
   - `update_histogram`: обновление гистограммы.
   - `reset_image`: сброс изображения до исходного состояния.
   - `save_image`: сохранение обработанного изображения на диск.

3. **Обновление изображения**:
   - Использование библиотеки **OpenCV** для преобразования изображения.
   - Преобразование BGR → RGB и масштабирование изображения для корректного отображения.

---

## Запуск приложения

### Системные требования
- **Python** версии 3.11 или выше.
- **Установленные библиотеки**:
  - customtkinter
  - OpenCV (cv2)
  - Pillow
  - matplotlib
  - numpy

---

### Шаги для запуска

1. **Скачивание и распаковка**:
   - Скачайте ZIP-архив с исходным кодом программы и распакуйте его.

2. **Установка Python**:
   - Убедитесь, что Python версии 3.11 установлен на вашем устройстве. Загрузить его можно с [python.org](https://www.python.org).

3. **Настройка окружения и запуск**:
   Откройте командную строку (Windows) и выполните следующие команды:

   ```bash
   chdir ...\Image-Effects   # Вместо "..." укажите путь к папке с файлом `main.py`
   python -m venv .venv
   .venv\Scripts\activate
   pip install -r requirements.txt
   python main.py
   ```

---

## Структура интерфейса

- **Кнопка Load Image**: загрузка изображения с диска.
- **Ползунок Kernel Size**: настройка размера ядра фильтра.
- **Кнопка Average Filter**: применение среднего фильтра.
- **Кнопка Gaussian Filter**: применение Гауссова фильтра.
- **Ползунки Min и Max Intensity**: настройка порогов для линейного растяжения контраста.
- **Кнопка Apply Linear Contrast**: применение линейной коррекции контраста.
- **Кнопка Equalize Histogram**: гистограммное выравнивание изображения.
- **Кнопка Reset Image**: сброс к исходному изображению.
- **Кнопка Save Image**: сохранение обработанного изображения.

---

## Сопровождение и улучшения

Код программы написан с учетом модульности и расширяемости. Возможные улучшения включают:
- Добавление дополнительных фильтров, таких как медианный фильтр.
- Внедрение новых методов обработки контрастности (например, CLAHE).
- Добавление поддержки альфа-канала для изображений с прозрачностью.
- Улучшение интерфейса для отображения изменений в реальном времени.
